<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="KamMobile.Views.LoginPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:viewModels="clr-namespace:KamMobile.ViewModels"
    x:DataType="viewModels:LoginViewModel"
    BackgroundColor="#F5F5F5"
    Shell.NavBarIsVisible="False">

    <ScrollView>
        <VerticalStackLayout
            Padding="30"
            Spacing="20"
            VerticalOptions="Center">

            <!--  Logo/Title  -->
            <Label
                Margin="0,0,0,40"
                FontAttributes="Bold"
                FontSize="32"
                HorizontalOptions="Center"
                Text="Voice Assistant"
                TextColor="#667eea" />

            <!--  Login Form  -->
            <Frame
                Padding="30"
                BackgroundColor="White"
                CornerRadius="15"
                HasShadow="True">
                <VerticalStackLayout Spacing="20">

                    <Label
                        FontAttributes="Bold"
                        FontSize="24"
                        HorizontalOptions="Center"
                        Text="Login"
                        TextColor="#333" />

                    <!--  Username  -->
                    <VerticalStackLayout Spacing="5">
                        <Label
                            FontSize="14"
                            Text="Username"
                            TextColor="#666" />
                        <Entry
                            FontSize="16"
                            Placeholder="Enter username"
                            Text="{Binding Username}" />
                    </VerticalStackLayout>

                    <!--  Password  -->
                    <VerticalStackLayout Spacing="5">
                        <Label
                            FontSize="14"
                            Text="Password"
                            TextColor="#666" />
                        <Entry
                            FontSize="16"
                            IsPassword="True"
                            Placeholder="Enter password"
                            Text="{Binding Password}" />
                    </VerticalStackLayout>

                    <!--  Error Message  -->
                    <Label
                        FontSize="14"
                        HorizontalOptions="Center"
                        IsVisible="{Binding ErrorMessage, Converter={StaticResource StringNotEmptyConverter}}"
                        Text="{Binding ErrorMessage}"
                        TextColor="#dc3545" />

                    <!--  Login Button  -->
                    <Button
                        BackgroundColor="#667eea"
                        Command="{Binding LoginCommand}"
                        CornerRadius="25"
                        FontAttributes="Bold"
                        FontSize="18"
                        HeightRequest="50"
                        IsEnabled="{Binding IsLoading, Converter={StaticResource InvertedBoolConverter}}"
                        Text="Login"
                        TextColor="White" />

                    <!--  Loading Indicator  -->
                    <ActivityIndicator
                        HorizontalOptions="Center"
                        IsRunning="{Binding IsLoading}"
                        IsVisible="{Binding IsLoading}"
                        Color="#667eea" />

                    <!--  Hint  -->
                    <Label
                        Margin="0,10,0,0"
                        FontSize="12"
                        HorizontalOptions="Center"
                        Text="Hint: username: admin, password: password"
                        TextColor="#999" />

                </VerticalStackLayout>
            </Frame>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>